{
  "path": "../../src/modules/products/components/sections/FilterProducts.vue",
  "relativePath": "modules/products/components/sections/FilterProducts.vue",
  "type": "source",
  "name": "FilterProducts.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "Vue-компонент FilterProducts.vue предоставляет интерфейс для фильтрации списка продуктов по категориям, цене и способу доставки. Он рендерит сворачиваемые секции (Spoiler) с чекбоксами и синхронизирует состояние фильтров с URL-параметрами.",
    "Purpose": "Обеспечить пользователю возможность динамического применения и сброса фильтров на странице продуктов, а также хранение текущих фильтров в query-параметрах маршрута.",
    "Components": [
      {
        "name": "Spoiler",
        "description": "Контейнер-панель с возможностью сворачивания/разворачивания раздела фильтров."
      },
      {
        "name": "Checkbox",
        "description": "Элемент управления для выбора одной или нескольких опций фильтра (поддерживает поведение радиокнопки при передаче списка)."
      }
    ],
    "Functions": [
      {
        "name": "emitFilterChange",
        "description": "Упрощённый метод для эмита события 'updateFilters' с типом фильтра и его значением.",
        "parameters": [
          "filterType",
          "value"
        ]
      },
      {
        "name": "resetFilters",
        "description": "Эмитит событие 'resetFilters' для сброса всех фильтров."
      },
      {
        "name": "watch (marketplace.state.filter)",
        "description": "Отслеживает глубокие изменения в объекте фильтров marketplace.state.filter, преобразует их в query-параметры и обновляет маршрут.",
        "parameters": [
          "newFilterValue",
          "oldFilterValue"
        ]
      },
      {
        "name": "onMounted",
        "description": "При монтировании компонента загружает список категорий из store и устанавливает начальные значения фильтра на основании route.query."
      }
    ],
    "Dependencies": [
      "vue (ref, watch, onMounted)",
      "vue-i18n (useI18n)",
      "vue-router (useRoute, useRouter)",
      "@martyrs/src/components/Spoiler/Spoiler.vue",
      "@martyrs/src/components/Checkbox/Checkbox.vue",
      "@martyrs/src/modules/products/store/categories.js",
      "@martyrs/src/modules/marketplace/views/store/marketplace.js"
    ],
    "Usage": "Импортируется в страницу или компонент, ответственный за отображение списка продуктов, подключается как <FilterProducts @updateFilters=\"...\" @resetFilters=\"...\" /> для управления фильтрацией.",
    "Importance": 3,
    "Notes": [
      "В watch используется router.repalce — вероятная опечатка, должно быть router.replace.",
      "В onMounted фильтр инициализируется записью в marketplace.state.filter.innerHTML — похоже на ошибку, корректнее было бы присвоить marketplace.state.filter напрямую.",
      "Локальная переменная selectedFilters объявлена, но не используется в шаблоне или логике.",
      "Динамическое наполнение переводов категорий из categories.state.all в блоке текстов i18n."
    ]
  }
}