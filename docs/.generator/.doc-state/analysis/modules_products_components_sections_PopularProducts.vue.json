{
  "path": "../../src/modules/products/components/sections/PopularProducts.vue",
  "relativePath": "modules/products/components/sections/PopularProducts.vue",
  "type": "source",
  "name": "PopularProducts.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "Компонент отображает слайдер популярных продуктов с автоплеем и загрузчиком.",
    "Purpose": "Показывать карусель популярных товаров в интерфейсе сайта с возможностью перехода на страницу конкретного продукта.",
    "Components": [
      {
        "name": "Loader",
        "responsibility": "Отображает индикатор загрузки продуктов"
      },
      {
        "name": "CardProduct",
        "responsibility": "Рендерит карточку продукта с переданными данными"
      },
      {
        "name": "emblaCarouselVue (hook)",
        "responsibility": "Инициализирует и управляет логикой карусели слайдов"
      },
      {
        "name": "Autoplay (plugin)",
        "responsibility": "Добавляет автоматическую прокрутку к карусели"
      },
      {
        "name": "router-link",
        "responsibility": "Обеспечивает навигацию к странице товара по клику"
      },
      {
        "name": "transition",
        "responsibility": "Анимирует появление/скрытие загрузчика и карточки продукта"
      }
    ],
    "Functions": [
      {
        "name": "scrollTo",
        "purpose": "Перемещает карусель к указанному индексу",
        "parameters": "index: Number"
      },
      {
        "name": "onInit",
        "purpose": "Собирает список точек привязки (scroll snap positions) после инициализации карусели",
        "parameters": "—"
      },
      {
        "name": "onSelect",
        "purpose": "Обновляет selectedIndex при смене активного слайда",
        "parameters": "—"
      },
      {
        "name": "handleProductClick",
        "purpose": "Навигация на страницу конкретного продукта по клику",
        "parameters": "product: Object (должен содержать _id и owner.target)"
      },
      {
        "name": "loadProducts",
        "purpose": "Запрашивает список продуктов из хранилища с заданным лимитом и организацией",
        "parameters": "— (использует internal limit и organization id)"
      }
    ],
    "Dependencies": [
      "vue (ref, computed, onMounted, onUnmounted)",
      "vue-router (useRouter)",
      "embla-carousel-vue",
      "embla-carousel-autoplay",
      "@martyrs/src/components/Loader/Loader.vue",
      "@martyrs/src/modules/products/components/blocks/CardProduct.vue",
      "@martyrs/src/modules/products/store/products.js"
    ],
    "Usage": "Импортируется и встраивается в интерфейс (например в Home или Dashboard) как <PopularProducts/>, автоматически загружает и показывает товары.",
    "Importance": 3,
    "Notes": [
      "Организация жёстко задана в loadProducts (ID = '657e7134efb8110c51b8b713')",
      "Autoplay настроен не останавливаться при взаимодействии пользователя",
      "Слушатели событий карусели удаляются при unmount для предотвращения утечек памяти",
      "В стилях .embla__slide адаптируется ширина слайдов для мобильных экранов (max-width: 1025px)"
    ]
  }
}