{
  "path": "../../src/modules/organizations/controllers/utils/lookupConfigs.js",
  "relativePath": "modules/organizations/controllers/utils/lookupConfigs.js",
  "type": "source",
  "name": "lookupConfigs.js",
  "extension": ".js",
  "analysis": {
    "Summary": "Этот файл экспортирует объект lookupConfigs, содержащий конфигурации MongoDB-lookup и дополнительные агрегационные стадии для разных сущностей (products, blogposts, departments, spots, memberships).",
    "Purpose": "Предоставить централизованные настройки для соединения (lookup) и доп. стадий агрегации в запросах к MongoDB по различным коллекциям, связанным с организацией.",
    "Components": [
      {
        "name": "products",
        "responsibility": "Настройка lookup к коллекции products и подсчёт количества продуктов"
      },
      {
        "name": "blogposts",
        "responsibility": "Настройка lookup к коллекции blogposts"
      },
      {
        "name": "departments",
        "responsibility": "Настройка lookup к коллекции departments"
      },
      {
        "name": "spots",
        "responsibility": "Настройка lookup к коллекции spots"
      },
      {
        "name": "memberships",
        "responsibility": "Настройка lookup к коллекции memberships"
      }
    ],
    "Functions": [],
    "Dependencies": [],
    "Usage": "Импортируется другими модулями контроллеров или сервисов, где формируются агрегированные запросы к MongoDB. Например: `import lookupConfigs from './utils/lookupConfigs'` и далее используется в массиве стадий агрегации.",
    "Importance": 3,
    "Notes": [
      "Каждый ключ соответствует имени связи и содержит объект `lookup` для $lookup-пайплайна.",
      "Поле additionalStages используется там, где требуется добавить вычисляемые поля (например, подсчёт числа связанных документов).",
      "Не содержит функций или классов, лишь декларативную конфигурацию.",
      "Позволяет централизованно управлять связями и этапами агрегации, упрощая поддержку и расширение."
    ]
  }
}