{
  "path": "../../src/modules/products/components/pages/Product.vue",
  "relativePath": "modules/products/components/pages/Product.vue",
  "type": "source",
  "name": "Product.vue",
  "extension": ".vue",
  "analysis": {
    "summary": "Не удалось разобрать анализ как JSON",
    "rawAnalysis": "{\"Summary\":\"Vue-компонент Product.vue отображает страницу с деталями товара: картинки, название, цена (или цена варианта), описание, выбор вариантов, атрибуты, информацию об организации-продавце и блок «Most Popular». Также обрабатывает события выбора варианта и добавления в корзину с поддержкой аренды и аналитикой.\",\"Purpose\":\"Предоставить пользователю страницу просмотра и взаимодействия с конкретным товаром: осмотр, выбор варианта, добавление в корзину и навигацию к редактированию (при наличии прав).\",\"Components\":[{\"name\":\"Product.vue\",\"role\":\"Страница продукта – главный контейнер и контроллер логики просмотра и добавления товара\"},{\"name\":\"ProductImages\",\"role\":\"Отображение основных и дополнительных изображений товара или варианта\"},{\"name\":\"Price\",\"role\":\"Вывод цены товара, когда нет выбранного варианта\"},{\"name\":\"ProductConfigurator\",\"role\":\"Интерфейс выбора варианта товара, эмитирует события выбора, добавления и смены изображений\"},{\"name\":\"ProductsPopular\",\"role\":\"Раздел с популярными товарами на той же странице\"},{\"name\":\"CardOrganization\",\"role\":\"Карточка организации-владельца товара с рейтингом\"},{\"name\":\"IconEdit, IconInfo, IconGroups\",\"role\":\"Иконки для интерфейса (редактирование, информация, поставщик)\"}],\"Functions\":[{\"name\":\"handleVariantSelected\",\"description\":\"Обработчик выбора варианта товара\",\"params\":[\"variant (объект варианта)\"]},{\"name\":\"handleUpdateImages\",\"description\":\"Обновляет `currentImages` в зависимости от переданных картинок варианта\",\"params\":[\"images (массив URL или объектов изображений)\"]},{\"name\":\"handleAddVariantToCart\",\"description\":\"Добавляет выбранный вариант в корзину, учитывает дату аренды, организацию и запускает аналитику Google Analytics\",\"params\":[\"variantItem (объект выбранного варианта)\"],\"returns\":\"Promise<boolean>\"},{\"name\":\"addToCart\",\"description\":\"Добавляет товар без вариантов в корзину с той же логикой аренды, замены организации и аналитики\",\"params\":[\"product (объект товара)\"],\"returns\":\"Promise<boolean>\"}],\"Dependencies\":[\"vue (computed, ref, onMounted, getCurrentInstance)\",\"vue-router (useRoute, useRouter, router-link)\",\"vue-i18n (useI18n)\",\"@martyrs/src/modules/globals/views/mixins/mixins.js (useGlobalMixins)\",\"@martyrs/src/modules/auth/views/store/auth.js\",\"@martyrs/src/modules/globals/views/store/globals.js\",\"@martyrs/src/modules/products/store/products.js\",\"@martyrs/src/modules/products/store/categories.js\",\"@martyrs/src/modules/orders/store/shopcart.js\",\"Компоненты: Button, Popup, Tab, Calendar, IconEdit, IconShopcartAdd, IconInfo, IconGroups, ProductImages, Price, ProductsPopular, ProductConfigurator, CardOrganization\"],\"Usage\":\"Подключается в маршрутизации приложения как страница `/product/:product` или `organization/:id/product/:product` через Vue Router. Эмитит события 'page-loading' и 'page-loaded' для родительских контейнеров.\",\"Importance\":5,\"Notes\":[\"Использует глобальный миксин для проверки доступа (hasAccess) и формирования валюты (returnCurrency)\",\"Поддержка аналитики Google Analytics через вызовы `gtag`\",\"Для товаров с арендой вызывает `proxy.$dateSelector` и сохраняет выбранные даты\",\"Если корзина содержит товары от другой организации, запрашивает замену корзины через `proxy.$alert`\",\"При монтировании сбрасывает `products.state.current` и загружает данные через `products.actions.read`]\"}"
  }
}