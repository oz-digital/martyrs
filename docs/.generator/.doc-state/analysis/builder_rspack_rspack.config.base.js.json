{
  "path": "../../src/builder/rspack/rspack.config.base.js",
  "relativePath": "builder/rspack/rspack.config.base.js",
  "type": "source",
  "name": "rspack.config.base.js",
  "extension": ".js",
  "analysis": {
    "Summary": "Этот файл экспортирует фабрику конфигурации Rspack для сборки проекта, используя плагины и правила обработки исходников (.js, .vue, .css и ассетов).",
    "Purpose": "Определить и настроить базовую конфигурацию сборщика Rspack (аналог webpack) для проекта на Vue с поддержкой SWC, Vue-loader, Sass, статических ресурсов и переменных окружения.",
    "Components": [
      {
        "name": "VueLoaderPlugin",
        "responsibility": "Обработка и сборка .vue-компонентов"
      },
      {
        "name": "CleanWebpackPlugin",
        "responsibility": "Очищает папку сборки перед новым билдом"
      },
      {
        "name": "RsdoctorRspackPlugin",
        "responsibility": "Дополнительный плагин диагностики сборки (активируется при BUNDLE_ANALYZER)"
      },
      {
        "name": "BundleAnalyzerPlugin",
        "responsibility": "Генерация отчёта по размеру бандлов (активируется при BUNDLE_ANALYZER)"
      },
      {
        "name": "CssExtractRspackPlugin",
        "responsibility": "Извлечение CSS в отдельные файлы в production-режиме"
      },
      {
        "name": "Dotenv",
        "responsibility": "Подгрузка переменных окружения из .env-файлов"
      },
      {
        "name": "rspack.DefinePlugin",
        "responsibility": "Глобальные константы для сборки Vue и мобильного режима"
      }
    ],
    "Functions": [
      {
        "name": "defaultExport",
        "type": "factory",
        "params": [
          "projectRoot"
        ],
        "description": "Генерирует и возвращает объект конфигурации Rspack, привязанный к заданному корню проекта."
      },
      {
        "name": "experimentalInlineMatchResource.preprocess",
        "type": "inline function",
        "params": [
          "content",
          "{ filename }"
        ],
        "description": "Переписывает сокращённый синтаксис v-slot в <template> для корректной обработки vue-loader."
      },
      {
        "name": "css-loader.url.filter",
        "type": "inline function",
        "params": [
          "url",
          "resourcePath"
        ],
        "description": "Фильтрует URL-адреса в CSS: не обрабатывает пути, начинающиеся с '/fonts/'."
      }
    ],
    "Dependencies": [
      "path",
      "@rspack/core",
      "vue-loader",
      "clean-webpack-plugin",
      "@rsdoctor/rspack-plugin",
      "webpack-bundle-analyzer",
      "dotenv-webpack",
      "vue",
      "vue-router",
      "vue-i18n"
    ],
    "Usage": "Импортируется в скриптах сборки (например, build.js или rspack.config.js) и вызывается с параметром projectRoot для получения конфигурации Rspack.",
    "Importance": 5,
    "Notes": [
      "SWC используется через builtin:swc-loader для быстрого транспайла ES2020.",
      "Активируется анализатор бандлов и диагностический плагин по флагу BUNDLE_ANALYZER.",
      "В production-режиме CSS извлекается в отдельные файлы с contenthash и игнорированием порядка.",
      "Настроен вывод подробной статистики сборки (stats) и verbose-логирование инфраструктуры.",
      "Полная настройка alias упрощает импорт модулей из src, martyrs и node_modules."
    ]
  }
}