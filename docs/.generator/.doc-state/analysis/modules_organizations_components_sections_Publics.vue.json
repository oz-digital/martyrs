{
  "path": "../../src/modules/organizations/components/sections/Publics.vue",
  "relativePath": "modules/organizations/components/sections/Publics.vue",
  "type": "source",
  "name": "Publics.vue",
  "extension": ".vue",
  "analysis": {
    "summary": "Publics.vue is a Vue 3 component that, on mount, fetches a list of recommended or public organizations for the current user and displays them as organization cards. If no organizations are found, it renders an empty-state message.",
    "purpose": "To render a scrollable horizontal list of public organizations (up to 10) for the authenticated user, and to handle membership updates (subscribe/unsubscribe) via store mutations.",
    "components": [
      {
        "name": "CardOrganization",
        "path": "@martyrs/src/modules/organizations/components/blocks/CardOrganization.vue",
        "responsibilities": "Render a single organization's details, display membership status for the current user, and emit an updateMembership event when the user changes subscription status."
      },
      {
        "name": "EmptyState",
        "path": "@martyrs/src/components/EmptyState/EmptyState.vue",
        "responsibilities": "Render a placeholder UI (title and description) when there are no public organizations to display."
      }
    ],
    "functions": [
      {
        "name": "onMounted callback",
        "description": "Asynchronously fetches a list of public organizations for the current user from the organizations store and assigns the result to the local `publics` ref.",
        "parameters": []
      },
      {
        "name": "handleMembershipUpdate",
        "description": "Invokes the memberships store mutation to update a membership entry in the local `publics` array. It receives an event payload with membership details and two strings that determine which flags/counters to update.",
        "parameters": [
          {
            "name": "payload",
            "type": "object",
            "properties": [
              "membership",
              "status",
              "target"
            ]
          },
          {
            "name": "statusName",
            "type": "string",
            "description": "The property name on the organization object to toggle (e.g. 'isSubscriber')."
          },
          {
            "name": "statusNumber",
            "type": "string",
            "description": "The numeric counter property name on the organization object to update (e.g. 'numberOfSubscribers')."
          }
        ]
      }
    ],
    "dependencies": [
      "vue (ref, onMounted)",
      "@martyrs/src/modules/organizations/components/blocks/CardOrganization.vue",
      "@martyrs/src/components/EmptyState/EmptyState.vue",
      "@martyrs/src/modules/auth/views/store/auth.js",
      "@martyrs/src/modules/organizations/store/organizations.js",
      "@martyrs/src/modules/organizations/store/memberships.js"
    ],
    "usage": "This component is typically imported and used in a parent view or page that needs to show recommended/public organizations, for example: `import Publics from '.../Publics.vue'` and then `<Publics/>` in the template.",
    "importance": 3,
    "notes": [
      "Uses the Vue 3 `<script setup>` composition API style.",
      "Applies CSS transition classes (`slide-fade-*`) but requires a `<Transition>` wrapper in the template to be effective.",
      "No explicit loading or error state is handled; fetch errors would propagate uncaught.",
      "Limits the fetched organizations to 10, sorted by user profile tags."
    ]
  }
}