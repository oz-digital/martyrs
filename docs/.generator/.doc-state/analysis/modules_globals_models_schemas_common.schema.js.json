{
  "path": "../../src/modules/globals/models/schemas/common.schema.js",
  "relativePath": "modules/globals/models/schemas/common.schema.js",
  "type": "source",
  "name": "common.schema.js",
  "extension": ".js",
  "analysis": {
    "Summary": "Этот файл экспортирует функцию applyCommonSchema, которая добавляет в переданную схему поле \"status\" с набором предопределённых значений и настройками по умолчанию.",
    "Purpose": "Централизованное расширение моделей (схем) общим полем статуса для дальнейшей работы с записями в базе данных (фильтрация по статусу, контроль жизненного цикла и т.п.).",
    "Components": [
      {
        "name": "applyCommonSchema",
        "type": "function",
        "description": "Добавляет к Mongoose-подобной схеме поле «status» с enum-значениями, значением по умолчанию и обязательностью."
      }
    ],
    "Functions": [
      {
        "name": "applyCommonSchema",
        "signature": "(schema, db)",
        "description": "Вызывает schema.add, добавляя структуру поля status.",
        "parameters": [
          {
            "name": "schema",
            "type": "Object",
            "description": "Mongoose-подобный объект схемы, к которому нужно добавить поле."
          },
          {
            "name": "db",
            "type": "Object",
            "description": "Ссылка на подключённую БД или ORM-объект (в текущей реализации не используется)."
          }
        ]
      }
    ],
    "Dependencies": [
      {
        "module": "schema",
        "description": "Передаётся извне, ожидается Mongoose-подобный объект с методом add."
      },
      {
        "module": "db",
        "description": "Передаётся извне, зарезервирован для возможных расширений (сейчас не используется)."
      }
    ],
    "Usage": "Импортировать функцию в определении модели и вызывать applyCommonSchema(model.schema, db) сразу после создания или объявления схемы.",
    "Importance": 4,
    "Notes": [
      "Поле status имеет enum-значения: draft, published, featured, archived, removed.",
      "Параметр db пока не используется, но может понадобиться для доступа к дополнительным сервисам или справочникам.",
      "Экспорт оформлен через default, чтобы легко подключать и применять к любым схемам без именованных импортов."
    ]
  }
}