{
  "path": "../../src/modules/constructor/components/elements/Caption.vue",
  "relativePath": "modules/constructor/components/elements/Caption.vue",
  "type": "source",
  "name": "Caption.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "Vue component that renders an auto-resizing textarea for bullet-style captions, parses user input into an array of bullet lines, updates the bound prop, and emits deletion when the content is cleared.",
    "Purpose": "Provides an editable caption block in the constructor interface; it lets users enter bullet lists, keeps the textarea height in sync with content, and signals removal when emptied.",
    "Components": [
      {
        "name": "Caption",
        "type": "Vue SFC",
        "responsibility": "Render and manage a textarea bound to a dynamic property; handle input parsing, auto-resize, focus events, and block deletion."
      }
    ],
    "Functions": [
      {
        "name": "handleInput",
        "description": "Parses the textarea value for bullet list lines. If bullets are found, updates the target prop array; if the field is cleared, resets the array to empty. In both cases triggers resize.",
        "parameters": [
          {
            "name": "event",
            "type": "InputEvent",
            "description": "The input event emitted by the textarea."
          }
        ]
      },
      {
        "name": "focus",
        "description": "Defers execution to next tick and then focuses the textarea element.",
        "parameters": []
      },
      {
        "name": "resize",
        "description": "Temporarily sets textarea height to 1rem then grows it to match its scrollHeight, thereby auto-resizing the field to fit content.",
        "parameters": []
      }
    ],
    "Dependencies": [
      "vue (computed, ref, onMounted, onUpdated, watch, nextTick, defineProps, defineEmits)"
    ],
    "Usage": "Imported into parent constructor components (e.g. via import Caption from 'modules/constructor/components/elements/Caption.vue') and used in a template with required props: obj, label, prop (object), content (key string), plus optional placeholder and index.",
    "Importance": 3,
    "Notes": [
      "Mutates the incoming prop object directly â€“ ensure the parent is prepared for direct mutation.",
      "Only bullet-style lines (starting with '-' or '*') are parsed; plain text lines are ignored.",
      "Emits 'deleteBlock' when the bullet array becomes empty; although 'addBlock' is declared, it's not used here.",
      "Ref name collision: a prop named 'textarea' exists alongside a local ref named 'textarea'.",
      "No custom styling defined in the <style> section; relies on global utility classes."
    ]
  }
}