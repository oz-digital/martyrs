{
  "path": "../../src/modules/notifications/services/sms.service.js",
  "relativePath": "modules/notifications/services/sms.service.js",
  "type": "source",
  "name": "sms.service.js",
  "extension": ".js",
  "analysis": {
    "Summary": "Этот файл определяет сервис для отправки SMS-сообщений, используя утилиту sendSms из глобального модуля mailing.",
    "Purpose": "Обеспечить единый интерфейс для отправки SMS в рамках модуля уведомлений.",
    "Components": [
      {
        "name": "SmsService",
        "type": "object",
        "responsibilities": "Предоставляет метод send для отправки SMS и обработки ошибок."
      }
    ],
    "Functions": [
      {
        "name": "send",
        "description": "Асинхронно отправляет SMS на указанный номер, возвращает подтверждение или выбрасывает ошибку.",
        "parameters": [
          {
            "name": "to",
            "type": "string",
            "description": "Номер получателя в формате строки."
          },
          {
            "name": "message",
            "type": "string",
            "description": "Текст SMS-сообщения."
          }
        ],
        "returns": "Promise<{ success: boolean, messageId: string }>",
        "errorHandling": "Логирует ошибку в консоль и пробрасывает её дальше."
      }
    ],
    "Dependencies": [
      {
        "module": "@martyrs/src/modules/globals/controllers/utils/mailing.js",
        "imported": [
          "sendSms"
        ],
        "description": "Утилита для отправки SMS."
      }
    ],
    "Usage": "Импортируется по умолчанию: `import SmsService from 'modules/notifications/services/sms.service.js'`. Дальше вызывают `await SmsService.send({ to: '+71234567890', message: 'Текст' })`.",
    "Importance": 3,
    "Notes": [
      "Генерирует messageId на основе текущего времени через Date.now().toString().",
      "При сбое в отправке SMS выбрасывает ошибку для последующей обработки вышестоящим кодом.",
      "Нет встроенной системы повторных попыток или конфигурации провайдера — вся логика отправки делегируется утилите mailing.sendSms."
    ]
  }
}