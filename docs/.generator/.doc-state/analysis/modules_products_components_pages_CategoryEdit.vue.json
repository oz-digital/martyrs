{
  "path": "../../src/modules/products/components/pages/CategoryEdit.vue",
  "relativePath": "modules/products/components/pages/CategoryEdit.vue",
  "type": "source",
  "name": "CategoryEdit.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "Vue component that renders a form for adding or editing a product category. It loads existing data when editing, allows uploading an image, entering metadata (name, URL, order, status), managing translations and filters, and saving via a button or navigation bar action.",
    "Purpose": "Provides the UI and logic for CRUD operations (create/update) on 'Category' entities within the products module, integrating with the central store and router.",
    "Components": [
      {
        "name": "Block",
        "responsibility": "Section wrapper with optional title, actions, and placeholder."
      },
      {
        "name": "Button",
        "responsibility": "Renders a styled button that triggers form submission."
      },
      {
        "name": "UploadImage",
        "responsibility": "Handles image upload and displays the category photo."
      },
      {
        "name": "Field",
        "responsibility": "Generic input component for text, number, URL fields."
      },
      {
        "name": "Select",
        "responsibility": "Dropdown selector for category status."
      },
      {
        "name": "IconDelete",
        "responsibility": "Delete icon used to remove translation or filter rows."
      },
      {
        "name": "IconCheckmark",
        "responsibility": "Checkmark icon added to the global navigation bar to trigger save."
      },
      {
        "name": "Feed",
        "responsibility": "Imported but not used in this component."
      }
    ],
    "Functions": [
      {
        "name": "onMounted (lifecycle)",
        "purpose": "When component mounts, emits 'page-loading', loads or cleans category state based on route params, then emits 'page-loaded'.",
        "parameters": "none"
      },
      {
        "name": "onUnmounted (lifecycle)",
        "purpose": "Cleans up global navigation bar actions when component is destroyed.",
        "parameters": "none"
      },
      {
        "name": "onSubmit",
        "purpose": "Handles form submission: prepares creator/owner fields, calls store actions to create or update the category, then redirects to the categories list.",
        "parameters": "none"
      },
      {
        "name": "redirectTo",
        "purpose": "Navigates back to the 'Categories' route, preserving parent `_id` if present.",
        "parameters": "none"
      }
    ],
    "Dependencies": [
      "vue (computed, ref, onMounted, onUnmounted)",
      "vue-router (useRoute, useRouter)",
      "@martyrs/src/modules/icons/navigation/IconDelete.vue",
      "@martyrs/src/components/Button/Button.vue",
      "@martyrs/src/components/Select/Select.vue",
      "@martyrs/src/components/UploadImage/UploadImage.vue",
      "@martyrs/src/components/Field/Field.vue",
      "@martyrs/src/components/Feed/Feed.vue",
      "@martyrs/src/components/Block/Block.vue",
      "@martyrs/src/modules/icons/navigation/IconCheckmark.vue",
      "@martyrs/src/modules/globals/views/store/globals.js",
      "@martyrs/src/modules/auth/views/store/auth.js",
      "@martyrs/src/modules/products/store/categories.js"
    ],
    "Usage": "Registered as a view component in the router configuration for paths like '/products/categories/:category?/edit'. Other modules import it by referencing the route name 'CategoryEdit' or directly importing the .vue file.",
    "Importance": 4,
    "Notes": [
      "Uses Vue Composition API with <script setup> syntax.",
      "Inline arrow functions in templates manage dynamic array operations for translations and filters.",
      "Global navigation bar actions are manipulated directly via the globals store to add/remove the save icon.",
      "Feed component is imported but not used; could be cleaned up.",
      "Style block is present but empty; all styling is handled via utility classes."
    ]
  }
}