{
  "path": "../../src/builder/ssr/utils.js",
  "relativePath": "builder/ssr/utils.js",
  "type": "source",
  "name": "utils.js",
  "extension": ".js",
  "analysis": {
    "Summary": "Набор утилитарных функций для серверной сборки (SSR): нормализация ассетов из Webpack, генерация MD5-хэшей и динамическая загрузка модулей из строки.",
    "Purpose": "Обеспечить вспомогательные операции при сборке SSR: приведение ассетов к единому виду, контроль версионирования через хэширование и возможностьrequire-ить модули, полученные на лету.",
    "Components": [
      {
        "name": "normalizeAssets",
        "type": "function",
        "responsibility": "Преобразует разные формы представления ассетов (строка, массив, объект) в единый массив путей или названий файлов."
      },
      {
        "name": "hash",
        "type": "function",
        "responsibility": "Генерирует MD5-хэш из переданной строки, используется для контроля версий или кэш-бастинга."
      },
      {
        "name": "requireFromString",
        "type": "function",
        "responsibility": "Динамически компилирует и исполняет JavaScript-код из строки, возвращая экспортируемый API модуля."
      }
    ],
    "Functions": [
      {
        "name": "normalizeAssets",
        "description": "Нормализует входные ассеты из webpack stats в массив строк.",
        "parameters": [
          {
            "name": "assets",
            "type": "Array|string|Object",
            "description": "Строка, массив строк или объект, где ключи — группы, а значения — массивы элементов."
          }
        ],
        "returns": {
          "type": "Array",
          "description": "Плоский массив путей/названий ассетов."
        }
      },
      {
        "name": "hash",
        "description": "Создаёт MD5-хэш из переданной строки.",
        "parameters": [
          {
            "name": "str",
            "type": "string",
            "description": "Исходная строка для хэширования."
          }
        ],
        "returns": {
          "type": "string",
          "description": "Шестнадцатеричная MD5-строка."
        }
      },
      {
        "name": "requireFromString",
        "description": "Динамически загружает и компилирует модуль из строки исходного кода.",
        "parameters": [
          {
            "name": "src",
            "type": "string",
            "description": "Текст исходного кода модуля."
          },
          {
            "name": "filename",
            "type": "string",
            "description": "Виртуальное имя файла для корректного построения путей и stack traces (по умолчанию пустая строка)."
          }
        ],
        "returns": {
          "type": "any",
          "description": "То, что модуль экспортирует через module.exports или export."
        }
      }
    ],
    "Dependencies": [
      {
        "module": "crypto",
        "purpose": "Создание MD5-хэшей."
      },
      {
        "module": "module",
        "purpose": "Доступ к внутренним API Node.js для компиляции модулей на лету."
      },
      {
        "module": "path",
        "purpose": "Построение путей к директориям для module.paths."
      }
    ],
    "Usage": "Импортируется в процессе SSR-сборки, когда нужно нормализовать вывод Webpack, создать уникальные имена файлов или динамически загрузить сгенерированный на лету бандл.",
    "Importance": 3,
    "Notes": [
      "requireFromString использует небезопасный внутренний API Module._compile — стоит учитывать контекст безопасности.",
      "normalizeAssets ожидает, что объект-ассеты может быть формата { key: Array<string> } и корректно его разворачивает.",
      "hash использует устаревший MD5, но он обычно достаточен для кэш-бастинга."
    ]
  }
}