{
  "path": "../../src/modules/pages/views/components/pages/Page.vue",
  "relativePath": "modules/pages/views/components/pages/Page.vue",
  "type": "source",
  "name": "Page.vue",
  "extension": ".vue",
  "analysis": {
    "summary": "Не удалось разобрать анализ как JSON",
    "rawAnalysis": "```json\n{\n  \"Summary\": \"Vue Single-File Component that renders a documentation or content page. It shows a collapsible menu of pages, displays the current page content via a Viewer, and provides navigation links (previous, next, table of contents).\",\n  \"Purpose\": \"Serve as the main page view in a multi-page documentation/site structure, fetching page data from the store and wiring up page hierarchy navigation and admin-controlled menu display.\",\n  \"Components\": [\n    {\n      \"name\": \"Page.vue (this component)\",\n      \"responsibility\": \"Orchestrates data fetching, menu toggling, navigation logic, and renders template structure.\"\n    },\n    {\n      \"name\": \"Viewer\",\n      \"import\": \"@martyrs/src/modules/constructor/components/sections/Viewer.vue\",\n      \"responsibility\": \"Renders rich HTML/markdown content of the current page.\"\n    },\n    {\n      \"name\": \"CardPage\",\n      \"import\": \"../blocks/CardPage.vue\",\n      \"responsibility\": \"Displays a single page entry (title, link, children) in menu or navigation panels.\"\n    }\n  ],\n  \"Functions\": [\n    {\n      \"name\": \"showMenu\",\n      \"purpose\": \"Toggle the boolean `isMenuOpen` to show or hide the page menu.\",\n      \"parameters\": []\n    },\n    {\n      \"name\": \"flattenTree\",\n      \"purpose\": \"Convert a hierarchical page tree into a flat array of pages, preserving parent references.\",\n      \"parameters\": [\n        {\n          \"name\": \"tree\",\n          \"type\": \"Object\",\n          \"description\": \"Root node of the page hierarchy (with `.children` array).\"\n        }\n      ]\n    },\n    {\n      \"name\": \"recursiveFlatten\",\n      \"purpose\": \"Helper inner function for `flattenTree` that traverses recursively.\",\n      \"parameters\": [\n        {\n          \"name\": \"nodes\",\n          \"type\": \"Array\",\n          \"description\": \"List of page nodes to process.\"\n        },\n        {\n          \"name\": \"parent\",\n          \"type\": \"Object|null\",\n          \"description\": \"Parent node reference.\"\n        }\n      ]\n    },\n    {\n      \"name\": \"onMounted (lifecycle hook)\",\n      \"purpose\": \"Fetch parent page and current page data based on the route parameters when component mounts.\",\n      \"parameters\": []\n    }\n  ],\n  \"Dependencies\": [\n    \"vue (computed, ref, onMounted, onServerPrefetch)\",\n    \"vue-router (useRoute)\",\n    \"vue-i18n (useI18n)\",\n    \"@martyrs/src/modules/constructor/components/sections/Viewer.vue\",\n    \"../blocks/CardPage.vue\",\n    \"../../store/pages (actions.read)\",\n    \"@martyrs/src/modules/auth/views/store/auth.js\",\n    \\\"@martyrs/src/modules/globals/views/mixins/mixins.js\\\"\"\n  ],\n  \"Usage\": \"Usually imported and registered in a route definition as the page component. Example: { path: '/pages/:url+', component: Page }\",\n  \"Importance\": 4,\n  \"Notes\": [\n    \"Uses a mobile-only sticky header to toggle the menu on small screens.\",\n    \"Menu and navigation panels are conditionally rendered based on `isMenuOpen` and page hierarchy.\",\n    \"Relies on global mixins for URL normalization and admin-rights check (`isAdmin`).\",\n    \"Empty `<style>` block — all styling comes via utility classes and inline SCSS placeholders.\",\n    \"`onServerPrefetch` is imported but not used in this file.\"\n  ]\n}\n```"
  }
}