{
  "path": "../../src/modules/auth/controllers/routes/auth.routes.js",
  "relativePath": "modules/auth/controllers/routes/auth.routes.js",
  "type": "source",
  "name": "auth.routes.js",
  "extension": ".js",
  "analysis": {
    "summary": "Этот файл определяет HTTP-маршруты (endpoints) для операций аутентификации: регистрацию, вход, сброс и обновление пароля.",
    "purpose": "Регистрирует в Express-приложении маршруты /api/auth/* и связывает их с соответствующими сервисами и middleware для валидации и проверки.",
    "components": [
      {
        "name": "middlewareFactory",
        "location": "../middlewares/index.js",
        "responsibility": "Генерирует middleware для проверки данных при регистрации и верификации пользователя."
      },
      {
        "name": "controllerFactory",
        "location": "../services/auth.service.js",
        "responsibility": "Создаёт контроллер с методами signup, signin и updatePassword для стандартной аутентификации."
      },
      {
        "name": "controllerFactoryTwofa",
        "location": "../services/twofa.service.js",
        "responsibility": "Создаёт контроллер с методом sendcode для отправки кода двухфакторной аутентификации."
      }
    ],
    "functions": [
      {
        "name": "defaultExport",
        "type": "Function",
        "params": [
          "app",
          "db",
          "origins"
        ],
        "description": "Основная функция, принимающая экземпляр Express (app), подключение к БД (db) и список origins, регистрирует на app маршруты аутентификации."
      }
    ],
    "dependencies": [
      "../middlewares/index.js",
      "../services/auth.service.js",
      "../services/twofa.service.js"
    ],
    "usage": "Импортируется в точке инициализации приложения (обычно в файле server.js или app.js) и вызывается так: require('…/modules/auth/controllers/routes/auth.routes.js')(app, db, origins);",
    "importance": 4,
    "notes": [
      "Параметр origins в текущей реализации не используется.",
      "Импорт authJwt из middlewareFactory есть, но не применяется в маршрутах.",
      "Закомментирована проверка ролей verifySignUp.checkRolesExisted — вероятно, отключена временно."
    ]
  }
}