{
  "path": "../../src/modules/products/components/sections/ProductConfigurator.vue",
  "relativePath": "modules/products/components/sections/ProductConfigurator.vue",
  "type": "source",
  "name": "ProductConfigurator.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "This Vue component provides a UI for selecting a product variant, choosing applicable discounts, setting a purchase quantity, and adding the selected variant to the cart.",
    "Purpose": "Enable users on a product detail page to configure a product (variant, discount, quantity) and dispatch an add-to-cart action.",
    "Components": [
      {
        "name": "ProductConfigurator",
        "role": "Root component that orchestrates the entire configuration workflow."
      },
      {
        "name": "ProductVariants",
        "role": "Displays available product variants and emits a selection event."
      },
      {
        "name": "ProductDiscounts",
        "role": "Shows discount options based on the selected variant and emits discount selection."
      },
      {
        "name": "QuantitySelector",
        "role": "Provides a numeric input bounded by the maximum available stock."
      },
      {
        "name": "Button",
        "role": "Reusable button component for submitting actions."
      },
      {
        "name": "IconShopcartAdd",
        "role": "Icon used inside the add-to-cart button."
      }
    ],
    "Functions": [
      {
        "name": "handleVariantSelected",
        "purpose": "Updates the local selectedVariant ref, adjusts quantity if it exceeds availability, and emits a 'variant-selected' event.",
        "parameters": [
          "variant"
        ]
      },
      {
        "name": "handleDiscountSelected",
        "purpose": "Adjusts the purchase quantity based on discount minimums when a discount is selected.",
        "parameters": [
          "discount"
        ]
      },
      {
        "name": "addVariantToCart",
        "purpose": "Validates that a variant is selected and available, then emits an 'add-to-cart' event with all necessary payload (productId, variantId, sku, name, price, quantity, attributes).",
        "parameters": []
      }
    ],
    "Dependencies": [
      "vue (ref, computed)",
      "vue-i18n (useI18n)",
      "@martyrs/src/icons/actions/IconShopcartAdd.vue",
      "@martyrs/src/components/Button/Button.vue",
      "../blocks/ProductVariants.vue",
      "../blocks/ProductDiscounts.vue",
      "../elements/QuantitySelector.vue"
    ],
    "Usage": "Imported into product detail or summary pages to render a configurator section. Example: import ProductConfigurator from 'modules/products/components/sections/ProductConfigurator.vue';",
    "Importance": 4,
    "Notes": [
      "The watch API is imported but currently unused.",
      "Computed props include fallback logic for single-variant products.",
      "Emits an 'update-images' event when variants trigger image updates.",
      "Includes built-in i18n messages for the add-to-cart button label."
    ]
  }
}