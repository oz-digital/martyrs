{
  "path": "../../src/modules/pages/views/components/blocks/CardPage.vue",
  "relativePath": "modules/pages/views/components/blocks/CardPage.vue",
  "type": "source",
  "name": "CardPage.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "Компонент CardPage рекурсивно отображает узел страницы с ссылкой на просмотр и, при наличии административных прав, иконками редактирования и добавления дочерних страниц. Также при наличии дочерних страниц рендерит себя же для каждого дочернего элемента.",
    "Purpose": "Отображение и структурирование древовидного списка страниц с навигационными и административными элементами управления в интерфейсе.",
    "Components": [
      {
        "name": "CardPage",
        "role": "Рекурсивный Vue-компонент для отображения одной страницы и ее дочерних элементов."
      },
      {
        "name": "IconEdit",
        "role": "Иконка режима редактирования, используется внутри ссылки на страницу редактирования."
      },
      {
        "name": "IconAdd",
        "role": "Иконка добавления новой дочерней страницы, используется в кнопке создания."
      }
    ],
    "Functions": [
      {
        "name": "createPage",
        "description": "Обработчик нажатия на кнопку добавления новой страницы. Эмитит событие 'createPage' с объектом page.",
        "parameters": [
          "page:Object — модель текущей страницы"
        ]
      }
    ],
    "Dependencies": [
      "vue (ref, defineProps, defineEmits, script setup)",
      "vue-router (useRouter, router-link)",
      "@martyrs/src/modules/icons/navigation/IconEdit.vue",
      "@martyrs/src/modules/icons/navigation/IconAdd.vue",
      "@martyrs/src/components/Button/Button.vue (импорт, не используется)",
      "@martyrs/src/components/Field/Field.vue (импорт, не используется)"
    ],
    "Usage": "Импортируется и рендерится в любом месте, где нужно показать дерево страниц. Родительский компонент передаёт props page, hasAdminRights и при необходимости подписывается на событие createPage.",
    "Importance": 4,
    "Notes": [
      "Компонент саморекурсивный: внутри шаблона при наличии дочерних элементов используется <CardPage> с передачей тех же пропсов.",
      "Используется глобальная утилита joinArrayToUrl (не импортирована в файле, предполагается доступная через глобальный scope или плагин).",
      "Есть неиспользуемые импорты Button и Field — возможно, оставлены для будущего расширения.",
      "Стили SCSS скрывают кнопки действий по умолчанию и показывают их только при наведении на заголовок страницы.",
      "Проп $attrs.class проксирует стили или классы от родителя к контейнеру компонента."
    ]
  }
}