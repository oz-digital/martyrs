{
  "path": "../../src/modules/orders/components/pages/Orders_refact.vue",
  "relativePath": "modules/orders/components/pages/Orders_refact.vue",
  "type": "source",
  "name": "Orders_refact.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "Vue 3 компонент, отображающий историю заказов пользователя. Показывает список карточек заказов с иконками статуса, превью товаров, датой и кнопкой для выбора конкретного заказа.",
    "Purpose": "Обеспечить интерфейс просмотра всех заказов текущего пользователя и перехода к подробному просмотру одного заказа через Vuex-хранилище.",
    "Components": [
      {
        "name": "Transition",
        "role": "Оборачивает список заказов в анимацию появления ('scale')."
      },
      {
        "name": "OrderCard (закомментирован)",
        "role": "Переходный компонент для показа подробностей заказа (не используется в текущей реализации)."
      },
      {
        "name": "section.order-customer-card",
        "role": "Карточка одного заказа со статусом, превью товаров и кнопкой просмотра."
      }
    ],
    "Functions": [
      {
        "name": "scrollTop",
        "purpose": "Прокрутить контейнер с ID 'page-content' к началу для плавного перехода при смене вида.",
        "parameters": []
      },
      {
        "name": "orderProducts",
        "purpose": "На основании массива позиций заказа формирует упрощённые объекты товаров (имя, цена, изображения, цвет, размер, количество).",
        "parameters": [
          {
            "name": "positions",
            "type": "Array",
            "description": "Срез позиций заказа (обычно первые 2 для предпросмотра)."
          }
        ]
      }
    ],
    "Dependencies": [
      "vue (toRefs, computed, defineProps)",
      "vuex store (useStore, getters shopcart/cartTotalPrice, state.products.all)",
      "глобальный хелпер DateToFormattedString",
      "статические ассеты: '@/assets/icons/status/*.svg', '@/assets/images/products/*', '@/assets/icons/photo.svg'"
    ],
    "Usage": "Импортируется и используется в родительских страницах или маршрутах, передаётся проп 'user' из контекста авторизованного пользователя. При клике на кнопку 'Смотреть заказ' в Vuex сохраняется текущий заказ, и приложение обычно переходит на страницу подробного просмотра.",
    "Importance": 3,
    "Notes": [
      "Секция показа одного заказа (OrderCard) закомментирована; вместо неё используется кастомный список.",
      "Условная логика иконок статуса выстроена через несколько v-if по полю order.status.",
      "SCSS стили локальны благодаря scoped, задают фон карточек и оформление превью.",
      "Используется ID 'page-content' для прокрутки; должен присутствовать в верстке родителя."
    ]
  }
}