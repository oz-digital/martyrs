{
  "path": "../../src/modules/wallet/views/components/blocks/CryptoDepositProcessing.vue",
  "relativePath": "modules/wallet/views/components/blocks/CryptoDepositProcessing.vue",
  "type": "source",
  "name": "CryptoDepositProcessing.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "Vue component that renders and manages the UI for a cryptocurrency deposit flow: shows deposit amount, wallet address, QR code, status, timer and provides copy and cancel actions.",
    "Purpose": "Provide the user interface and logic for processing a crypto deposit in the wallet module, including display of payment details, countdown timer, status updates, QR code generation, and cancellation.",
    "Components": [
      {
        "name": "CryptoDepositProcessing",
        "type": "Vue Single-File Component",
        "responsibilities": [
          "Render deposit amount and network label",
          "Render deposit address with copy-to-clipboard buttons",
          "Generate and display a QR code for the deposit address",
          "Show computed 'You will receive' value in WDT",
          "Display remaining time while waiting for transaction",
          "Display current status of deposit",
          "Offer a cancel button when deposit is in waiting state",
          "Emit navigation events ('back-selection', 'switch-menu')"
        ]
      }
    ],
    "Functions": [
      {
        "name": "remainingTime",
        "type": "computed",
        "description": "Formats the remaining seconds from timer into MM:SS",
        "parameters": []
      },
      {
        "name": "amount",
        "type": "computed",
        "description": "Converts raw depositInfo.amount (in satoshis) into human-readable units by shifting decimal by 8",
        "parameters": []
      },
      {
        "name": "receive",
        "type": "computed",
        "description": "Calculates the amount of WDT token the user will receive, dividing the crypto amount by the exchange rate",
        "parameters": []
      },
      {
        "name": "status",
        "type": "computed",
        "description": "Maps depositInfo.status to human-readable strings, including dynamic confirmation count",
        "parameters": []
      },
      {
        "name": "backSelection",
        "type": "method",
        "description": "Emits 'back-selection' event to parent to return to the previous step",
        "parameters": []
      },
      {
        "name": "switchMenu",
        "type": "method",
        "description": "Emits 'switch-menu' event with an optional screen index to navigate between wallet screens",
        "parameters": [
          {
            "name": "screen",
            "type": "number",
            "default": 0,
            "description": "Index of the target menu screen"
          }
        ]
      },
      {
        "name": "copy",
        "type": "method",
        "description": "Writes given text into the system clipboard",
        "parameters": [
          {
            "name": "text",
            "type": "string",
            "description": "The text to be copied"
          }
        ]
      },
      {
        "name": "onMounted â†’ QRCode.toCanvas",
        "type": "lifecycle hook",
        "description": "Generates a QR code for the deposit address when component is mounted",
        "parameters": []
      },
      {
        "name": "watch(state)",
        "type": "watcher",
        "description": "Reacts to changes in depositInfo.status: stops timer when SENT, disconnects WS and switches menu on COMPLETED",
        "parameters": []
      }
    ],
    "Dependencies": [
      "qrcode",
      "vue-i18n",
      "vue (watch, computed, onMounted, defineEmits)",
      "bignumber.js",
      "@martyrs/src/modules/wallet/views/localization/wallet.json",
      "@martyrs/src/modules/wallet/views/store/wallet.store"
    ],
    "Usage": "Imported and rendered in the wallet deposit workflow (e.g. parent view or router component). Listens to shared 'state' store for depositInfo updates and emits navigation events back to the wallet parent controller.",
    "Importance": 4,
    "Notes": [
      "Uses BigNumber.config to prevent exponential notation for large/small numbers",
      "Reads TOKEN_EXCHANGE_RATE from environment variables",
      "Scoped styles apply nowrap to the .address class to avoid line breaks",
      "Relies on a global i18n setup with texts from wallet.json",
      "Cancelling a deposit calls actions.cancelDeposit() then navigates back via backSelection()"
    ]
  }
}