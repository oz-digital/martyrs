{
  "path": "../../src/modules/notifications/routes/notifications.routes.js",
  "relativePath": "modules/notifications/routes/notifications.routes.js",
  "type": "source",
  "name": "notifications.routes.js",
  "extension": ".js",
  "analysis": {
    "Summary": "Defines and registers HTTP endpoints for the notifications feature using an Express-style app instance, delegating request handling to a notifications controller.",
    "Purpose": "To centralize route definitions for creating, fetching, updating and managing notifications and user notification preferences in the project.",
    "Components": [
      {
        "name": "notificationsRoutes",
        "type": "function",
        "responsibility": "Accepts app, db, wss, origins, publicPath and binds notification-related HTTP routes to controller methods."
      },
      {
        "name": "controller",
        "type": "object",
        "responsibility": "Holds the actual handler methods (getUserNotifications, create, markAsRead, etc.) provided by notifications.controller.js."
      }
    ],
    "Functions": [
      {
        "name": "notificationsRoutes",
        "params": [
          "app",
          "db",
          "wss",
          "origins",
          "publicPath"
        ],
        "description": "Main function exported by the module; registers all notification endpoints on the provided app."
      },
      {
        "name": "getUserNotifications",
        "origin": "controller",
        "params": [
          "req.params.userId"
        ],
        "description": "Retrieves a list of notifications for a specific user."
      },
      {
        "name": "create",
        "origin": "controller",
        "params": [
          "req.body"
        ],
        "description": "Creates a new notification record."
      },
      {
        "name": "markAsRead",
        "origin": "controller",
        "params": [
          "req.params.id"
        ],
        "description": "Marks a single notification as read by its ID."
      },
      {
        "name": "markAllAsRead",
        "origin": "controller",
        "params": [
          "req.params.userId"
        ],
        "description": "Marks all notifications as read for a given user."
      },
      {
        "name": "registerDevice",
        "origin": "controller",
        "params": [
          "req.body"
        ],
        "description": "Registers a device token for push notifications."
      },
      {
        "name": "getUserPreferences",
        "origin": "controller",
        "params": [
          "req.params.userId"
        ],
        "description": "Fetches notification preferences for a specific user."
      },
      {
        "name": "updatePreferences",
        "origin": "controller",
        "params": [
          "req.body"
        ],
        "description": "Updates notification preferences based on provided payload."
      }
    ],
    "Dependencies": [
      {
        "module": "../controllers/notifications.controller.js",
        "importedAs": "notifications",
        "purpose": "Provides the controller factory for handling notification logic."
      },
      {
        "injected": [
          "app",
          "db",
          "wss",
          "origins",
          "publicPath"
        ],
        "purpose": "Framework-provided instances (Express app, database handle, WebSocket server, CORS origins, static path)."
      }
    ],
    "Usage": "Imported in the main server/router setup. Invoked as notificationsRoutes(app, db, wss, origins, publicPath) to mount all notification endpoints.",
    "Importance": 3,
    "Notes": "The parameters origins and publicPath are accepted but not used in the current implementation. There's a stray comment \"Add this to routes/notifications.routes.js\" that appears to be leftover from development."
  }
}