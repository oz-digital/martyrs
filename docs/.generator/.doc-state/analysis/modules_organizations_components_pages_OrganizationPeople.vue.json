{
  "path": "../../src/modules/organizations/components/pages/OrganizationPeople.vue",
  "relativePath": "modules/organizations/components/pages/OrganizationPeople.vue",
  "type": "source",
  "name": "OrganizationPeople.vue",
  "extension": ".vue",
  "analysis": {
    "Summary": "Vue-компонент для визуального создания и редактирования структуры организации: добавление/удаление отделов, подотделов и участников, с последующей отправкой данных на сервер и редиректом.",
    "Purpose": "Страница создания новой организации: позволяет пользователю сформировать и настроить иерархию подразделений и участников до окончательного сохранения.",
    "Components": [
      {
        "name": "OrganizationPeople.vue",
        "role": "Корневой компонент страницы, содержит основную логику управления списком отделов и форму создания организации."
      },
      {
        "name": "Unit",
        "import": "@martyrs/src/modules/organizations/components/sections/Unit.vue",
        "role": "Отвечает за отображение одного отдела (unit), эмитит события удаления отдела, добавления подотдела и добавления участника."
      },
      {
        "name": "Button",
        "import": "@martyrs/src/components/Button/Button.vue",
        "role": "Кнопка с поддержкой пропов submit и callback для обработки отправки формы и последующего действия."
      }
    ],
    "Functions": [
      {
        "name": "addUnit",
        "purpose": "Добавляет новый отдел с дефолтным именем и пустыми массивами участников и подотделов.",
        "parameters": []
      },
      {
        "name": "removeUnit",
        "purpose": "Удаляет отдел по его индексу из массива units.",
        "parameters": [
          {
            "name": "index",
            "type": "number"
          }
        ]
      },
      {
        "name": "addParticipant",
        "purpose": "Добавляет участника в указанный отдел.",
        "parameters": [
          {
            "name": "unitIndex",
            "type": "number"
          },
          {
            "name": "participant",
            "type": "object"
          }
        ]
      },
      {
        "name": "addSubunit",
        "purpose": "Добавляет новый подотдел в массив subunits выбранного отдела.",
        "parameters": [
          {
            "name": "unitIndex",
            "type": "number"
          }
        ]
      },
      {
        "name": "onSubmit",
        "purpose": "Асинхронно вызывает экшен создания организации в хранилище.",
        "parameters": []
      },
      {
        "name": "redirectTo",
        "purpose": "Перенаправляет пользователя на маршрут 'Organization' после успешного создания.",
        "parameters": []
      }
    ],
    "Dependencies": [
      "vue (ref, script setup)",
      "vue-router (useRoute, useRouter)",
      "@martyrs/src/components/Button/Button.vue",
      "@martyrs/src/modules/organizations/components/sections/Unit.vue",
      "@martyrs/src/modules/organizations/store/organizations.js"
    ],
    "Usage": "Как правило подключается в маршрутизаторе Vue как одно из представлений (views) при пути создания организации. На клиенте рендерится внутри <router-view>.",
    "Importance": 4,
    "Notes": [
      "Использует реактивный объект units, привязанный к organization.state.structure из глобального хранилища, что ведет к прямым мутациям store.",
      "Переменная route импортируется, но в коде не используется.",
      "Scoped-стили минимальны и касаются лишь классов .unit.",
      "После onSubmit происходит редирект, popup для входа закомментирован."
    ]
  }
}